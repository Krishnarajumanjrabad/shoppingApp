<!--
  Generated template for the OrderDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="house">
    <ion-title>Order Details</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-list-header><h2> Order Detail Information</h2></ion-list-header>


  <ion-grid *ngIf="productList.length > 0">
    <ion-row class="tableHeader" align-item-center>
      <ion-col col-2 align-self-center><strong>Action </strong></ion-col>

      <ion-col col-2 align-self-center><strong>Product Description</strong>
      </ion-col>
      <ion-col col-2 align-self-center><strong>Quantity </strong></ion-col>
      <ion-col col-2 align-self-center><strong>Price </strong></ion-col>
      <ion-col col-2 align-self-center><strong>Product</strong></ion-col>


    </ion-row>

    <div *ngFor="let product of productList; let i=index">
      <ion-row responsive-sm wrap class="tableDetails" align-item-center col-12>


        <ion-col align-self-cente col-2>
          <button ion-icon small color="danger"
                  (click)="productRemove(product,i)">
            <ion-icon name="remove" align-self-center></ion-icon>
          </button>
        </ion-col>
        <ion-col align-self-cente col-2>
          <ion-label align-self-center text-wrap>{{product.productDesc}}
          </ion-label>
        </ion-col>

        <ion-col align-self-center col-2>
          <input type="text" [(ngModel)]="productList[i].qty" maxlength="3" size="3"
                 align-self-center>
        </ion-col>
        <div
          *ngFor="let productSpecification of product.productSpecficationInfo"
          align-self-center>
          <ion-col align-self-center col-2>
            <ion-label align-item-center>{{ productList[i].qty *
              productSpecification.price |
              currency:'INR':true
              }}
            </ion-label>
          </ion-col>
        </div>
        <div
          *ngFor="let productImage of product.productGallary; let first=first;"
        >

          <ion-col align-items-center *ngIf="first">
            <ion-img src="{{ productImage }}" height="70" width="55"></ion-img>
          </ion-col>

        </div>

      </ion-row>
    </div>

  </ion-grid>

  <div *ngIf="totalPrice != 0" align-items-end>
    <ion-row col-xs-12>

      <ion-col float-end class="tableDetails">
        <ion-label float-end><strong>Total Cost:</strong> {{ totalPrice |
          currency:
          'INR':
          true}}
        </ion-label>
      </ion-col>
    </ion-row>
  </div>


  <div>
    <ion-row col-xs-12>

      <ion-col float-end class="tableDetails" align-items-center align-self-center>
        <ion-label float-start>Shipping Charges:</ion-label>
        <input type="number" name="shippingPrice" [(ngModel)]="shippingPrice" size="4"
               maxlength="4"
               (ngModelChange)="getGrandTotal()" float-end align-self-center>
      </ion-col>
    </ion-row>

  </div>


  <div>
    <ion-row col-xs-12 align-items-end>

      <ion-col class="tableDetails">
        <ion-label float-end><strong>Grand Total Cost:</strong>{{ grandTotalPrice |
          currency: 'INR': true}}
        </ion-label>
      </ion-col>

    </ion-row>
  </div>


  <form #billingAddressForm="ngForm" danger>
    <!--<ion-grid>
      <ion-row>
        <ion-col>-->
    <ion-list>
      <ion-list-header> Billing Address Information</ion-list-header>

      <ion-item>
        <label stacked>Apartment/Building Name:</label>
        <input type="text" name="aptNumber" [(ngModel)]="aptNumber" maxlength="4"
               size="4">
      </ion-item>
      <ion-item>
        <label stacked>Address:</label>
        <input type="text" name="address1" [(ngModel)]="address1" maxlength="20"
               size="20">
      </ion-item>
      <ion-item>
        <label stacked>Additional Address:</label>
        <input type="text" name="address2" [(ngModel)]="address2" maxlength="20"
               size="20">
      </ion-item>
      <ion-item>
        <label stacked>Contact Number:</label>
        <input type="text" name="contactNumber" [(ngModel)]="contactNumber" maxlength="20"
               size="20">
      </ion-item>
      <ion-item>
        <label stacked>Alternate Contact Number:</label>
        <input type="text" name="altContact" [(ngModel)]="altContact" maxlength="20"
               size="20">
      </ion-item>
      <ion-item>
        <div *ngFor="let country of  countryListNew | async">

          <ion-item>
            <label stacked>Select Country:</label>
            <select [(ngModel)]="selectedCountry" name="selectedCountry">
              <option value="{{country.name}}">
                Please Select

              </option>
              <!--<option>
                {{country.name}}
              </option>-->

            </select>

          </ion-item>
          <div *ngFor="let state of country.states">
            <ion-item>
              <label stacked>Select State:</label>
              <select *ngIf="country.id == state.countryId" [(ngModel)]="selectedStates"
                      name="selectedStates" value="{{state.countryId}}">
                <option value="{{state.name}}">
                 PLease Select
                </option>
           <!--     <option>
                  {{state.name}}
                </option>-->
              </select>

            </ion-item>
          </div>
         <!-- <div *ngFor="let state of countryListNew.states | async">
            {{state.name}}
          </div>-->
          <!--<div *ngIf="countryInfo.$key != null">
            <div *ngFor="let state of countryInfo.states">
              {{ state}}
            </div>

            &lt;!&ndash;<div *ngFor="let city of state.cities">
              {{city.$key}}
            </div>&ndash;&gt;
          </div>-->

        </div>
      </ion-item>
      <!-- <div *ngFor="let country of countryList; let i=index;">
         <ion-item>
           <label stacked>Select Country:</label>
           <select [(ngModel)]="selectedCountry" name="selectedCountry" value="{{country.$key}}">
             <option value="select">
               Please Select

             </option>

           </select>

         </ion-item>
         <div *ngFor="let state of country.states; let j=index">
           <ion-item>
             <label stacked>Select State:</label>
             <select *ngIf="selectedCountry != null" [(ngModel)]="selectedStates" name="selectedStates">
               <option value="select">
                 {{state}}
               </option>
             </select>

           </ion-item>
           &lt;!&ndash; <div *ngFor="let city of state.cities; let k=index">
              <ion-item>
                <label stacked>Select State:</label>
                <select [(ngModel)]="selectedStates" name="selectedStates">
                  <option value="select">
                    {{city}}
                  </option>
                </select>

              </ion-item>
            </div>&ndash;&gt;

         </div>
       </div>-->


    </ion-list>
  </form>


</ion-content>
